<md-content>
    <section layout="row" layout-sm="column" layout-align="center center" layout-wrap>
      <md-button>{{title1}}</md-button>
      <md-button md-no-ink class="md-primary">Primary (md-noink)</md-button>
      <md-button ng-disabled="true" class="md-primary">Disabled</md-button>
      <md-button class="md-warn">{{title4}}</md-button>
      <div class="label">Flat</div>
    </section>
    <section layout="row" layout-sm="column" layout-align="center center" layout-wrap>
      <md-button class="md-raised">Button</md-button>
      <md-button class="md-raised md-primary">Primary</md-button>
      <md-button ng-disabled="true" class="md-raised md-primary">Disabled</md-button>
      <md-button class="md-raised md-warn">Warn</md-button>
      <div class="label">Raised</div>
    </section>
    <section layout="row" layout-sm="column" layout-align="center center" layout-wrap>
        <md-button class="md-fab" aria-label="Eat cake">
            <md-icon md-svg-src="img/icons/cake.svg"></md-icon>
        </md-button>
        <md-button class="md-fab md-primary" aria-label="Use Android">
          <md-icon md-svg-src="img/icons/android.svg"></md-icon>
        </md-button>
        <md-button class="md-fab" ng-disabled="true" aria-label="Comment">
            <md-icon md-svg-src="img/icons/ic_comment_24px.svg"></md-icon>
        </md-button>
        <md-button class="md-fab md-primary md-hue-2" aria-label="Profile">
            <md-icon md-svg-src="img/icons/ic_people_24px.svg"></md-icon>
        </md-button>
        <md-button class="md-fab md-mini" aria-label="Eat cake">
            <md-icon md-svg-src="img/icons/cake.svg"></md-icon>
        </md-button>
        <md-button class="md-fab md-mini md-primary" aria-label="Use Android">
          <md-icon md-svg-src="img/icons/android.svg" style="color: greenyellow;"></md-icon>
        </md-button>
      <div class="label">FAB</div>
    </section>
    <section layout="row" layout-sm="column" layout-align="center center" layout-wrap>
        <md-button ng-href="{{googleUrl}}" target="_blank">Default Link</md-button>
        <md-button class="md-primary" ng-href="{{googleUrl}}" target="_blank">Primary Link</md-button>
        <md-button>Default Button</md-button>
      <div class="label">Link vs. Button</div>
    </section>
    <section layout="row" layout-sm="column" layout-align="center center" layout-wrap>
      <md-button class="md-primary md-hue-1">Primary Hue 1</md-button>
      <md-button class="md-warn md-raised md-hue-2">Warn Hue 2</md-button>
      <md-button class="md-accent">Accent</md-button>
      <md-button class="md-accent md-raised md-hue-1">Accent Hue 1</md-button>
      <div class="label">Themed</div>
    </section>
    <section layout="row" layout-sm="column" layout-align="center center" layout-wrap>
      <md-button class="md-icon-button md-primary" aria-label="Settings">
        <md-icon md-svg-icon="img/icons/menu.svg"></md-icon>
      </md-button>
      <md-button class="md-icon-button md-accent" aria-label="Favorite">
        <md-icon md-svg-icon="img/icons/favorite.svg"></md-icon>
      </md-button>
      <md-button class="md-icon-button" aria-label="More">
        <md-icon md-svg-icon="img/icons/more_vert.svg"></md-icon>
      </md-button>
      <md-button href="http://google.com"
                 title="Launch Google.com in new window"
                 target="_blank"
                 ng-disabled="true"
                 aria-label="Google.com"
                 class="md-icon-button launch" >
        <md-icon md-svg-icon="img/icons/launch.svg"></md-icon>
      </md-button>
      <div class="label">Icon Button</div>
    </section>
  </md-content>
<md-content flex
            id="content"
            class="ng-cloak">
  <div>
    <h2>
      {{$parent.selectedGroup.name}} >> Jobs
      <md-button ng-click="showNewJobDialog($event)">New Job</md-button>
    </h2>

    <div class="btn-group" ng-if="groupJobs != null">

      <span>Jobs <b>{{currentPage * $parent.perPage + (groupJobs.length ? 1 : 0)}}-{{currentPage * $parent.perPage + groupJobs.length}}</b></span>

      <md-button ng-click="reloadGroupJobs()">Reload</md-button>

      <div>
        <button type="button" class="btn btn-default" ng-click="previousPage()" ng-class="{disabled: currentPage == 0 || isLoading}">
          < <i class="fa fa-chevron-left"></i>&nbsp;Prev
        </button>

        <button type="button" class="btn btn-default disabled">{{currentPage + 1}}</button>

        <!-- BUG - remove +1 then fixed -->
        <button type="button" class="btn btn-default" ng-click="nextPage()" ng-class="{disabled: (groupJobs.length + 1) < perPage || isLoading}">
          Next&nbsp;&nbsp;&nbsp;
          <i class="fa fa-chevron-right"></i> >
        </button>




        <div>
          Max Concurrency:
          <span ng-if="selectedGroup.max_concurrency">{{selectedGroup.max_concurrency | number}}</span>
          <span ng-if="!selectedGroup.max_concurrency">-</span>

        </div>

      </div>
    </div>


    <div ng-if="groupJobs == null">loading ....</div>

    <table class="table" ng-if="groupJobs != null">
      <thead>
        <tr>
          <th>ID</th>
          <th>Status</th>
          <th>Image</th>
          <th title="Priority">Pr</th>
          <th>Created</th>
          <th>Started</th>
          <th>Completed</th>
          <th></th>
        </tr>
      </thead>
      <tbody>
        <tr ng-repeat="job in groupJobs">
          <td>{{job.id}}</td>
          <td>
            <span ng-if="job.status != 'error'">{{job.status}}</span>
            <a ng-if="job.status == 'error'" ng-click="showError($event, job)">error</a>
            </td>
          <td>{{job.image}}</td>
          <td>{{job.priority}}</td>
          <td>{{job.created_at| date: 'HH:mm MM/dd/yyyy'}}</td>
          <td>{{job.started_at| date: 'HH:mm MM/dd/yyyy'}}</td>
          <td>{{job.completed_at| date: 'HH:mm MM/dd/yyyy'}}</td>
          <td>
            <md-button ng-click="showJobDetails(job)">
              Details
            </md-button>
            <md-button ng-click="cancelJob(job)" ng-if="job.status == 'queued' || job.status == 'running' || job.status == 'delayed'">cancel</md-button>
            <md-button ng-click="retryJob(job)" ng-if="job.status == 'cancelled' || job.status == 'error' || job.status == '??'">retry</md-button>
            <md-button ng-click="showLog($event, job)" ng-if="job.status == 'success' || job.status == 'error'">log</md-button>
          </td>
        </tr>

        <tr ng-if="groupJobs.length == 0">
          <td colspan="99">
            No Jobs
          </td>
        </tr>
      </tbody>
    </table>
  </div>

</md-content>

<md-sidenav md-component-id="right"
            md-disable-backdrop
            class="md-sidenav-right md-whiteframe-4dp ng-cloak">
  <md-toolbar class="md-theme-light" layout-padding>
    <h1 class="md-toolbar-tools">
      <div>
        Job #{{selectedJob.id}}<br>
        {{selectedJob.image}}<br>
        {{selectedJob.priority}}<br>
        <!-- retries_delay: {{selectedJob.retries_delay}}<br>
        timeout: {{selectedJob.timeout}}<br> -->
      </div>
    </h1>
    <h2>
      Status:<br>
      <span>{{selectedJob.status}}</span>

      <md-button ng-click="cancelJob(selectedJob)" ng-if="selectedJob.status == 'queued' || selectedJob.status == 'running' || selectedJob.status == 'delayed'">cancel</md-button>
      <md-button ng-click="retryJob(selectedJob)" ng-if="selectedJob.status == 'cancelled' || selectedJob.status == 'error' || selectedJob.status == '??'">retry</md-button>
      <md-button ng-click="showLog($event, selectedJob)" ng-if="selectedJob.status == 'success' || selectedJob.status == 'error'">log</md-button>
    </h2>
  </md-toolbar>
  <md-content layout-padding>
    <div>
      <h2>Payload</h2>
      <pre>{{formattedPayload(selectedJob)}}</pre>
    </div>

    <div>
      <h2>History</h2>

      <div>
        <div>
          {{selectedJob.created_at| date: 'HH:mm MM/dd/yyyy'}} Created
        </div>
        <div>
          {{selectedJob.started_at| date: 'HH:mm MM/dd/yyyy'}} Queued
        </div>
        <div>
          {{selectedJob.completed_at| date: 'HH:mm MM/dd/yyyy'}} Completed
        </div>
      </div>
    </div>

    <md-button ng-click="toggleJobDetails()" class="md-primary">
      Close Sidenav Right
    </md-button>
  </md-content>
</md-sidenav>
